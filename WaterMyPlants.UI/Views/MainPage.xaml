<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:vm="clr-namespace:WaterMyPlants.UI.ViewModels"
             xmlns:views="clr-namespace:WaterMyPlants.UI.Views"
             x:DataType="vm:MainViewModel"
             x:Class="WaterMyPlants.UI.Views.MainPage">

    <Grid Padding="20">

        <CollectionView ItemsSource="{Binding Plants}">

            <CollectionView.ItemTemplate>
                <DataTemplate>
                    <SwipeView>
                        <SwipeView.LeftItems>
                            <SwipeItems Mode="Reveal">
                                <SwipeItem
                                    Text="Podlane"
                                    BackgroundColor="DarkSeaGreen"
                                    Command="{Binding BindingContext.WaterPlantCommand, Source={RelativeSource AncestorType={x:Type ContentPage}}}"
                                    CommandParameter="{Binding .}" />
                            </SwipeItems>
                        </SwipeView.LeftItems>
                        <views:PlantListItemView />
                    </SwipeView>
                </DataTemplate>
            </CollectionView.ItemTemplate>

            <CollectionView.ItemsLayout>
                <LinearItemsLayout Orientation="Vertical" ItemSpacing="10"/>
            </CollectionView.ItemsLayout>

        </CollectionView>

        <Button Text="+"
             WidthRequest="60"
             HeightRequest="60"
             CornerRadius="30"
             BackgroundColor="#66BB6A"
             TextColor="White"
             FontSize="32"
             VerticalOptions="End"
             HorizontalOptions="End"
             Margin="20"
             Command="{Binding AddPlantCommand}">
            <Button.Shadow>
                <Shadow Brush="Black"
                     Opacity="0.25"
                     Offset="3,3"
                     Radius="8" />
            </Button.Shadow>
        </Button>

    </Grid>

</ContentPage>
